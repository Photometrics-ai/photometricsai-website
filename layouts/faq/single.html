{{ define "main" }}
<div class="page-header" data-theme="dark">
  <div class="container">
    <h1>{{ .Title }}</h1>
    {{ with .Params.subtitle }}<p class="lead">{{ . }}</p>{{ end }}
    <p class="page-updated">Last updated: {{ now.Format "January 2006" }}</p>
  </div>
</div>

<div class="page-content" data-theme="light">
  <div class="container">
    <div class="faq-list">
      {{ range .Params.faq }}
      <div class="faq-item"{{ with .id }} id="{{ . }}"{{ end }}>
        <button class="faq-question" onclick="this.parentElement.classList.toggle('active')">
          {{ .question }}
        </button>
        <div class="faq-answer">
          <div class="faq-answer-content">
            {{ .answer | markdownify }}
          </div>
        </div>
      </div>
      {{ end }}
    </div>
  </div>
</div>

{{ partial "cta.html" . }}

<script>
// Auto-open FAQ item if navigated via anchor
(function() {
  if (window.location.hash) {
    const target = document.querySelector(window.location.hash);
    if (target && target.classList.contains('faq-item')) {
      target.classList.add('active');
      setTimeout(() => target.scrollIntoView({ behavior: 'smooth', block: 'center' }), 100);
    }
  }
})();
</script>
{{ end }}
