{{ define "main" }}

<!-- Entity definition for AI/AEO - hidden but machine-readable -->
<article itemscope itemtype="https://schema.org/SoftwareApplication" class="sr-only" aria-hidden="true">
  <p><span itemprop="name">Photometrics AI</span> is street lighting optimization software that aligns public lighting with how communities live—responding to events, weather, safety needs, and environmental concerns. Using patented GIS-based Target Lighting Layers (Patent US9894736B2) and AI-powered optimization, Photometrics AI delivers intelligent lighting through existing infrastructure. Software-only. No hardware changes required.</p>
</article>

<!-- ========== 1. HERO - VISION ========== -->
<section class="hero-vision" data-theme="dark">
  <div class="hero-glow"></div>

  <!-- Video background -->
  <video class="vignette-video" autoplay muted loop playsinline>
    <source src="/videos/hero-night-sky.webm" type="video/webm">
    <source src="/videos/hero-night-sky.mp4" type="video/mp4">
  </video>
  <div class="vignette-overlay"></div>

  <div class="hero-vision-content">
    <h1 class="organic-reveal">Light That Moves With Us</h1>
    <p class="lead organic-reveal organic-reveal-delay-1">Street lighting that responds to how we actually live.</p>
  </div>

  <div class="scroll-indicator organic-reveal organic-reveal-delay-2">
    <div class="scroll-line"></div>
    <span class="scroll-text">Scroll</span>
  </div>
</section>

<!-- ========== 2. THE GAP / THE INJUSTICE ========== -->
<section class="gap-section" data-theme="dark">
  <div class="container">
    <h2 class="gap-headline">Street lights turn on at dusk<br>and off at dawn.<br><em>That's it.</em></h2>

    <p class="lead text-center text-muted mb-lg" style="max-width: 600px; margin-left: auto; margin-right: auto;">We replaced old streetlights with LEDs, but we haven't aligned lighting with how we live our lives and our values.</p>

    <div class="gap-absurdity text-center" style="max-width: 600px; margin: 0 auto 2rem;">
      <p class="text-muted" style="font-size: 1.1rem; line-height: 1.8;">Your phone adjusts its brightness for the room you're in.<br>Your car dims its headlights for oncoming traffic.<br>Your sprinklers check the forecast and skip watering when it's going to rain.<br>Your thermostat learns your schedule.</p>
    </div>

    <p class="text-center" style="font-size: 1.4rem; letter-spacing: 0.02em; margin-bottom: 3rem;"><strong>New light, new tech, same results.</strong></p>

    <div class="gap-impacts">
      <p class="gap-impact">It starts to rain and the road gets harder to see — the lighting doesn't change</p>
      <p class="gap-impact">Crosswalks are dark until someone complains</p>
      <p class="gap-impact">At 3 AM on an empty street, the lights are as bright as rush hour</p>
      <p class="gap-impact">The game ends. The crowd hits the streets. The lighting was never designed for this moment.</p>
      <p class="gap-impact">Halloween—the most dangerous night for kids—uses the same lighting as any other night</p>
      <p class="gap-impact">Bright white LEDs pull migratory birds off course</p>
    </div>

    <p class="gap-punchline"><strong>The fix?<br>No trucks. Nothing to install.<br>Just software aligned with your life and your values.</strong></p>
  </div>
</section>

<!-- ========== 3. VIGNETTES - THE VISION ========== -->

<!-- Vignette: Weather (rain + snow alternating) -->
<section class="vignette" data-theme="dark">
  <video class="vignette-video vignette-weather" autoplay muted playsinline data-lazy id="weather-rain">
    <source src="/videos/rain-driving.webm" type="video/webm">
    <source src="/videos/rain-driving.mp4" type="video/mp4">
  </video>
  <video class="vignette-video vignette-weather" muted playsinline data-lazy id="weather-snow" style="opacity: 0;">
    <source src="/videos/snow-driving.webm" type="video/webm">
    <source src="/videos/snow-driving.mp4" type="video/mp4">
  </video>
  <div class="vignette-overlay"></div>
  <div class="vignette-content">
    <p class="vignette-caption">Weather changes. Street lighting adjusts.</p>
  </div>
  <script>
  (function() {
    var rain = document.getElementById('weather-rain');
    var snow = document.getElementById('weather-snow');
    function swap(from, to) {
      from.style.opacity = '0';
      to.style.opacity = '1';
      to.currentTime = 0;
      to.play().catch(function(){});
    }
    rain.addEventListener('ended', function() { swap(rain, snow); });
    snow.addEventListener('ended', function() { swap(snow, rain); });
  })();
  </script>
</section>

<!-- Vignette: Crosswalk -->
<section class="vignette" data-theme="dark">
  <video class="vignette-video" autoplay muted loop playsinline data-lazy>
    <source src="/videos/crosswalk.webm" type="video/webm">
    <source src="/videos/crosswalk.mp4" type="video/mp4">
  </video>
  <div class="vignette-overlay"></div>
  <div class="vignette-content">
    <p class="vignette-caption">The crosswalk is lit before she gets there.</p>
  </div>
</section>

<!-- Vignette: Child Sleeping -->
<section class="vignette" data-theme="dark">
  <video class="vignette-video" autoplay muted loop playsinline data-lazy>
    <source src="/videos/child-sleeping.webm" type="video/webm">
    <source src="/videos/child-sleeping.mp4" type="video/mp4">
  </video>
  <div class="vignette-overlay"></div>
  <div class="vignette-content">
    <p class="vignette-caption">When it's time to sleep, the lights dim.</p>
  </div>
</section>

<!-- Vignette: Concert Exit -->
<section class="vignette" data-theme="dark">
  <video class="vignette-video" autoplay muted loop playsinline data-lazy>
    <source src="/videos/concert-exit.webm" type="video/webm">
    <source src="/videos/concert-exit.mp4" type="video/mp4">
  </video>
  <div class="vignette-overlay"></div>
  <div class="vignette-content">
    <p class="vignette-caption">The event ends. The streets are ready.</p>
  </div>
</section>

<!-- Vignette: Halloween -->
<section class="vignette" data-theme="dark">
  <video class="vignette-video" autoplay muted loop playsinline data-lazy>
    <source src="/videos/halloween.webm" type="video/webm">
    <source src="/videos/halloween.mp4" type="video/mp4">
  </video>
  <div class="vignette-overlay"></div>
  <div class="vignette-content">
    <p class="vignette-caption">Halloween night. Every house, every street, safe.</p>
  </div>
</section>

<!-- Vignette: Birds -->
<section class="vignette" data-theme="dark">
  <video class="vignette-video" autoplay muted loop playsinline data-lazy>
    <source src="/videos/birds-migrating.webm" type="video/webm">
    <source src="/videos/birds-migrating.mp4" type="video/mp4">
  </video>
  <div class="vignette-overlay"></div>
  <div class="vignette-content">
    <p class="vignette-caption">When birds migrate, the lights dim.</p>
  </div>
</section>

<!-- Vignette: Cyclist -->
<section class="vignette" data-theme="dark">
  <video class="vignette-video" autoplay muted loop playsinline data-lazy>
    <source src="/videos/cyclist.webm" type="video/webm">
    <source src="/videos/cyclist.mp4" type="video/mp4">
  </video>
  <div class="vignette-overlay"></div>
  <div class="vignette-content">
    <p class="vignette-caption">The bike path leads home. The intersection knows he's coming.</p>
  </div>
</section>

<!-- ========== 4. THE HOW ========== -->
<section class="how-section" data-theme="dark">
  <div class="container">
    <h2 class="how-headline">Software-only. Works with what's already there.</h2>

    <div class="how-steps">
      <div class="how-step">
        <div class="how-step-icon">&#x1F517;</div>
        <h4 class="how-step-title">Connect</h4>
        <p class="how-step-desc">Integrates with your existing lighting controls via API</p>
      </div>

      <div class="how-step">
        <div class="how-step-icon">&#x1F9E0;</div>
        <h4 class="how-step-title">Optimize</h4>
        <p class="how-step-desc">AI calculates optimal output for every luminaire</p>
      </div>

      <div class="how-step">
        <div class="how-step-icon">&#x26A1;</div>
        <h4 class="how-step-title">Deploy</h4>
        <p class="how-step-desc">Intelligent schedules push automatically</p>
      </div>
    </div>

    <p class="text-center text-muted mt-xl" style="opacity: 0.7;">No hardware. No retrofits. No field crews.</p>
  </div>
</section>

<!-- ========== 5. CTA ========== -->
<section class="cta-vision" data-theme="dark">
  <h2>See what intelligent lighting looks like.</h2>
  <div class="cta-buttons">
    <a href="https://bit.ly/30MinMeetWAri" class="btn btn-primary btn-lg" target="_blank" rel="noopener">Schedule a Conversation</a>
    <a href="/take-action/" class="btn btn-secondary btn-lg">Take Action</a>
  </div>
  <p class="cta-alt mt-lg">Or email <a href="mailto:ari@photometrics.ai">ari@photometrics.ai</a></p>
</section>

<!-- Video lazy loading and pause-on-scroll -->
<script>
(function() {
  // Only run if IntersectionObserver is supported
  if (!('IntersectionObserver' in window)) return;

  const videos = document.querySelectorAll('.vignette-video[data-lazy]');

  const videoObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      const video = entry.target;
      if (entry.isIntersecting) {
        // Load and play video when visible
        video.play().catch(() => {});
      } else {
        // Pause when not visible
        video.pause();
      }
    });
  }, {
    rootMargin: '50px',
    threshold: 0.1
  });

  videos.forEach(video => {
    videoObserver.observe(video);
  });
})();
</script>

{{ end }}
